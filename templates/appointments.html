{% extends 'base.html' %}
{% block content %}
<section class="container">
  <div class="row g-4">
    <div class="col-lg-5">
      <div class="p-4 rounded-4 shadow-sm bg-white">
        <h5 class="mb-3">Book an appointment</h5>
        <form method="POST">
          {{ form.hidden_tag() }}
          <div class="mb-3">{{ form.doctor_id.label(class="form-label") }} {{ form.doctor_id(class="form-select") }}</div>
          <div class="mb-3">{{ form.date.label(class="form-label") }} {{ form.date(class="form-control") }}</div>
          <div class="mb-3">{{ form.time.label(class="form-label") }} {{ form.time(class="form-control") }}</div>
          <div class="mb-3">{{ form.reason.label(class="form-label") }} {{ form.reason(class="form-control") }}</div>
          {{ form.submit(class="btn btn-primary w-100") }}
        </form>
      </div>
    </div>
    <div class="col-lg-7">
      <div class="p-4 rounded-4 shadow-sm bg-white">
        <h5 class="mb-3">Your appointments</h5>
        <div class="table-responsive">
          <table class="table align-middle">
            <thead><tr><th>Doctor</th><th>Date</th><th>Time</th><th>Reason</th></tr></thead>
            <tbody>
              {% for a in appts %}
              <tr>
                <td>{{ a.doctor_obj.name }}</td>
                <td>{{ a.date.strftime('%b %d, %Y') }}</td>
                <td>{{ a.time.strftime('%H:%M') }}</td>
                <td>{{ a.reason or '-' }}</td>
              </tr>
              {% else %}
              <tr><td colspan="4" class="text-muted">No appointments yet.</td></tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
